import{c as s,w as t,m as e,r as a,i as n,o as i,a as r,d as o,e as l,p as u,l as p,q as c,t as d,S as g}from"./index-smSU8IZZ.js";import{a as h}from"./ai-insight-service.DUVzQ0fH.js";import{_ as f}from"./_plugin-vue_export-helper.BCo6x5W8.js";const m=f({onLoad(){e({url:"/pages/login/login",fail:s=>{console.error("重定向到登录页面失败:",s),a({url:"/pages/login/login"})}})},data:()=>({apiStatus:"idle",statusText:"未测试",responseContent:"",streamContent:""}),methods:{async testQianwenAPI(){this.apiStatus="loading",this.statusText="测试中...",this.responseContent="",this.streamContent="";try{const s=[{name:"愚者",isUpright:!0,uprightMeaning:"新的开始，冒险，无忧无虑",reversedMeaning:"鲁莽，冒险，愚蠢的决定",position:"过去/问题根源"},{name:"魔术师",isUpright:!0,uprightMeaning:"创造力，技能，专注",reversedMeaning:"操纵，欺骗，才能浪费",position:"现在/当前情况"},{name:"高priestess",isUpright:!1,uprightMeaning:"直觉，潜意识，神圣女性",reversedMeaning:"秘密，断开连接，表面知识",position:"未来/可能结果"}];await h.generateAIInsight(s,"general","今日运势如何？","daily","基础解读内容：今天的牌面显示你正处于一个新的开始阶段，充满创造力，但需要注意直觉的指引。",s=>{this.streamContent=s,this.responseContent=s}),this.apiStatus="success",this.statusText="测试成功"}catch(s){console.error("API测试失败:",s),this.apiStatus="error",this.statusText=`测试失败: ${s.message}`,this.responseContent=`错误信息: ${s.message}`}}}},[["render",function(e,a,h,f,m,_){const C=o,I=n,x=p,A=g;return i(),s(I,{class:"test-container"},{default:t(()=>[r(I,{class:"header"},{default:t(()=>[r(C,{class:"title"},{default:t(()=>[l("API测试页面")]),_:1})]),_:1}),r(I,{class:"test-section"},{default:t(()=>[r(x,{class:"test-button",onClick:_.testQianwenAPI},{default:t(()=>[l("测试通义千问API")]),_:1},8,["onClick"]),r(I,{class:c(["status",{success:"success"===m.apiStatus,error:"error"===m.apiStatus}])},{default:t(()=>[l(" 状态: "+d(m.statusText),1)]),_:1},8,["class"]),m.responseContent?(i(),s(I,{key:0,class:"response-container"},{default:t(()=>[r(C,{class:"response-title"},{default:t(()=>[l("API响应:")]),_:1}),r(A,{class:"response-content","scroll-y":""},{default:t(()=>[r(C,null,{default:t(()=>[l(d(m.responseContent),1)]),_:1})]),_:1})]),_:1})):u("",!0)]),_:1})]),_:1})}],["__scopeId","data-v-733389da"]]);export{m as default};
