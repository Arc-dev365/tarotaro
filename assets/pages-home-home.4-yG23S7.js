import{c as a,w as e,n as t,v as s,e as c,i as l,o as n,f as i,k as d,t as r,g as o,p as u,S as g,x as _,F as f,y as m,l as h}from"./index-D6euLAw-.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const k=p({data:()=>({currentDate:"",isNightTime:!1,recentReadings:[]}),onLoad(){this.setCurrentDate(),this.checkNightTime()},onShow(){this.loadRecentReadings()},methods:{setCurrentDate(){const a=new Date,e=a.getFullYear(),t=a.getMonth()+1,s=a.getDate();this.currentDate=`${e}年${t}月${s}日`},checkNightTime(){const a=(new Date).getHours();this.isNightTime=a>=18||a<6},navigateTo(a){c({url:a})},loadRecentReadings(){const a=s("recent_readings")||[];this.recentReadings=a.slice(0,3)},viewReading(a){t({url:"/pages/reading/reading?id="+a.id})},truncateText:(a,e)=>a?a.length>e?a.substring(0,e)+"...":a:"无具体问题"}},[["render",function(t,s,c,p,k,w){const R=l,T=o,v=g,x=h;return n(),a(R,{class:"home-container"},{default:e(()=>[i(R,{class:"date-weather-box"},{default:e(()=>[i(R,{class:"date"},{default:e(()=>[d(r(k.currentDate),1)]),_:1}),i(R,{class:"weather"},{default:e(()=>[i(T,{class:"weather-icon",src:k.isNightTime?"/static/tarot/major/RWS_Tarot_18_Moon.jpg":"/static/tarot/major/RWS_Tarot_19_Sun.jpg",mode:"aspectFit"},null,8,["src"])]),_:1})]),_:1}),i(R,{class:"main-image-box"},{default:e(()=>[i(T,{class:"main-image",src:"/tarotaro/static/tarot/main.png",mode:"widthFix"})]),_:1}),i(R,{class:"features-container"},{default:e(()=>[i(R,{class:"section-title"},{default:e(()=>[d("选择占卜方式")]),_:1}),i(R,{class:"feature-cards"},{default:e(()=>[i(R,{class:"feature-card daily-card",onClick:s[0]||(s[0]=a=>w.navigateTo("/pages/daily/daily"))},{default:e(()=>[i(R,{class:"card-content"},{default:e(()=>[i(R,{class:"card-title"},{default:e(()=>[d("今日塔罗")]),_:1})]),_:1})]),_:1}),i(R,{class:"right-cards"},{default:e(()=>[i(R,{class:"feature-card quick-card",onClick:s[1]||(s[1]=a=>w.navigateTo("/pages/quick/quick"))},{default:e(()=>[i(R,{class:"card-content"},{default:e(()=>[i(R,{class:"card-title"},{default:e(()=>[d("快速塔罗")]),_:1})]),_:1})]),_:1}),i(R,{class:"feature-card custom-card",onClick:s[2]||(s[2]=a=>w.navigateTo("/pages/custom/custom"))},{default:e(()=>[i(R,{class:"card-content"},{default:e(()=>[i(R,{class:"card-title"},{default:e(()=>[d("定向塔罗")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(R,{class:"recent-readings-container"},{default:e(()=>[i(R,{class:"section-title"},{default:e(()=>[d("最近解读")]),_:1}),k.recentReadings.length>0?(n(),a(v,{key:0,class:"recent-readings","scroll-x":"true"},{default:e(()=>[(n(!0),_(f,null,m(k.recentReadings,(t,s)=>(n(),a(R,{class:"reading-card",key:s,onClick:a=>w.viewReading(t)},{default:e(()=>[i(R,{class:"reading-type"},{default:e(()=>[d(r(t.type),1)]),_:2},1024),i(R,{class:"reading-date"},{default:e(()=>[d(r(t.date),1)]),_:2},1024),i(R,{class:"reading-cards-preview"},{default:e(()=>[(n(!0),_(f,null,m(t.cards,(e,t)=>(n(),a(T,{key:t,src:e.img||"/static/tarot/major/0-愚者.jpg",mode:"aspectFit",class:"preview-card-image"},null,8,["src"]))),128))]),_:2},1024),i(R,{class:"reading-question"},{default:e(()=>[d(r(t.question?w.truncateText(t.question,15):"塔罗牌阵解读"),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):u("",!0),0===k.recentReadings.length?(n(),a(R,{key:1,class:"no-readings"},{default:e(()=>[i(x,null,{default:e(()=>[d("您还没有解读记录，开始您的第一次塔罗占卜吧！")]),_:1})]),_:1})):u("",!0)]),_:1}),i(R,{class:"app-download"},{default:e(()=>[i(R,{class:"section-title"},{default:e(()=>[d("APP下载")]),_:1}),i(R,{class:"download-content"},{default:e(()=>[d(" 敬请期待... ")]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-9c3a5cbe"]]);export{k as default};
