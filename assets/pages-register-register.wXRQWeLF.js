import{c as e,w as s,n as a,d as o,a as t,h as l,i as n,o as i,f as r,g as d,I as c,j as u,k as p,l as m}from"./index-D6euLAw-.js";import{_ as f}from"./start.CamMrkbd.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=async e=>(await new Promise(e=>setTimeout(e,1e3)),{success:!0,data:{userId:"user_"+Date.now(),username:e.username,token:"mock_token_"+Date.now(),expiresIn:7200}});const w=g({data:()=>({username:"",phone:"",password:"",confirmPassword:"",isLoading:!1}),methods:{async register(){if(this.username&&this.phone&&this.password&&this.confirmPassword)if(/^[a-zA-Z0-9_]{3,20}$/.test(this.username))if(/^1\d{10}$/.test(this.phone))if(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,20}$/.test(this.password))if(this.password===this.confirmPassword){if(!this.isLoading){this.isLoading=!0;try{t({title:"注册中..."});const e={username:this.username,phone:this.phone,password:this.password},s=await h(e);if(!s.success)throw new Error(s.message||"注册失败");s.data;o({title:"注册成功，请登录",icon:"success"}),setTimeout(()=>{a({url:"/pages/login/login"})},1500)}catch(e){o({title:e.message||"注册失败，请重试",icon:"none"})}finally{l(),this.isLoading=!1}}}else o({title:"两次输入的密码不一致",icon:"none"});else o({title:"密码必须包含字母和数字，长度6-20",icon:"none"});else o({title:"请输入正确的手机号",icon:"none"});else o({title:"用户名只能包含字母、数字和下划线，长度3-20",icon:"none"});else o({title:"请填写完整注册信息",icon:"none"})},goToLogin(){a({url:"/pages/login/login"})}}},[["render",function(a,o,t,l,g,h){const w=d,_=n,V=c,k=u,y=m;return i(),e(_,{class:"register-container"},{default:s(()=>[r(_,{class:"logo-container"},{default:s(()=>[r(w,{class:"logo-image",src:f,mode:"aspectFit"})]),_:1}),r(_,{class:"register-form-container"},{default:s(()=>[r(_,{class:"register-form"},{default:s(()=>[r(_,{class:"input-group"},{default:s(()=>[r(V,{class:"input-field",type:"text",modelValue:g.username,"onUpdate:modelValue":o[0]||(o[0]=e=>g.username=e),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),r(_,{class:"input-group"},{default:s(()=>[r(V,{class:"input-field",type:"text",modelValue:g.phone,"onUpdate:modelValue":o[1]||(o[1]=e=>g.phone=e),placeholder:"请输入手机号",maxlength:"11"},null,8,["modelValue"])]),_:1}),r(_,{class:"input-group"},{default:s(()=>[r(V,{class:"input-field",type:"password",modelValue:g.password,"onUpdate:modelValue":o[2]||(o[2]=e=>g.password=e),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),r(_,{class:"input-group"},{default:s(()=>[r(V,{class:"input-field",type:"password",modelValue:g.confirmPassword,"onUpdate:modelValue":o[3]||(o[3]=e=>g.confirmPassword=e),placeholder:"请确认密码"},null,8,["modelValue"])]),_:1}),r(_,{class:"register-btn-container"},{default:s(()=>[r(k,{class:"register-btn",onClick:h.register},{default:s(()=>[p("注册")]),_:1},8,["onClick"])]),_:1}),r(_,{class:"login-link-container"},{default:s(()=>[r(y,{class:"login-link",onClick:h.goToLogin},{default:s(()=>[p("已有账号？返回登录")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-29d12ca8"]]);export{w as default};
